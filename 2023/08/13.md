### 2023年8月13日（日）

## 取り組んだ課題一覧
- タイピング練習
- 05_linux/001_linuxの基礎コマンドを理解する
  - Linux標準教科書【進行中】
## わかったこと
### 管理者の仕事
- **用意されているユーザとグループ**
    
    Linuxでは、インストール後すぐにユーザとグループが用意され、必要に応じて複数追加できる。
    
    - **一般のユーザとグループ**
        
        Linuxにログインするにはアカウントが必要であり、ユーザはユーザグループに所属している。グループは複数のユーザをまとめるためにあり、システム上のディレクトリのアクセス権を設定することができる。
        
        グループを使用することで、特定のグループに属するユーザーのみがアクセスできるディレクトリを作成したり、特定のグループに属するユーザーのみがrootユーザーになれるようにすることができる。
        
    - root ユーザ
        
        rootユーザは特別なユーザであり、システム設定変更やプログラムのインストール・削除、ユーザの作成・削除などが可能です。
        
        rootユーザはアクセス権に関係なく全てのユーザのディレクトリへのアクセスやコンテンツの読み書きが可能であるため、厳格に管理する必要があります。
### 基本的なコマンド
- **suコマンド**
    
    suコマンドは、Linuxシステムで別のユーザーにスイッチするために使用されます。suは、"スーパーユーザー"または"切り替えユーザー"を表します。
    
    - 使用例
    
    例1：rootユーザーにスイッチする
    
    `$ su`
    
    このコマンドは、現在のユーザーアカウントをrootユーザーアカウントに変更します。rootユーザーアカウントに変更するには、rootユーザーのパスワードを入力する必要があります。
    
    例2：他のユーザーアカウントにスイッチする
    
    `$ su username`
    
    このコマンドは、`username`という名前のユーザーアカウントに変更します。ユーザーアカウントに変更するには、ユーザーのパスワードを入力する必要があります。
    
    - suコマンドのオプション
        - `-` （もしくは `- root`）
            
            root ユーザになることができます。
            
        - `- user`
        指定したユーザになることができます。
- **sudo コマンド**
    
    sudoコマンドを使うことで、root権限が必要な設定やプログラムを実行できる。CentOSではwheelグループに登録する必要があり、/etc/sudoersファイルを編集することでユーザがsudoコマンドを利用できるようになる。
    
    - 使用例
    
    例1：root権限でコマンドを実行する
    
    `$ sudo command`
    
    このコマンドは、root権限で`command`を実行します。sudoを使う場合、現在のユーザーのパスワードを入力する必要があります。
    
    例2：rootユーザーとしてシェルにログインする
    
    `$ sudo -i`
    
    このコマンドは、rootユーザーとしてシェルにログインします。
    
    - sudoコマンドのオプション
        - `i`
            
            このオプションは、rootユーザーとしてシェルにログインします。
            
        - `u`
            
            このオプションは、指定したユーザーの権限でコマンドを実行します。
            
- **visudoコマンド**
    
    visudoコマンドは、Linuxシステム上でsudoersファイルを編集するために使用されます。sudoersファイルには、sudoコマンドを実行するための権限が含まれています。
    
    - 使用例
    
    `$ sudo visudo`
    
    このコマンドは、sudoersファイルを編集するためにviエディタを起動します。sudoersファイルを編集する前に、必ずバックアップを作成してください。
    
    - visudoコマンドのオプション
        - **f**
            
            このオプションは、特定のsudoersファイルを編集します。
            
- **chownコマンド**
    
    chownコマンドは、Linuxシステム上のファイルやディレクトリの所有者や所有グループを変更するために使用されます。
    
    - 使用例
    
    例1：所有者を変更する
    
    `$ sudo chown username filename`
    
    このコマンドは、`filename`というファイルの所有者を`username`に変更します。
    
    例2：所有グループを変更する
    
    `$ sudo chown :groupname filename`
    
    このコマンドは、`filename`というファイルの所有グループを`groupname`に変更します。
    
    例3：所有者と所有グループを同時に変更する
    
    `$ sudo chown username:groupname filename`
    
    このコマンドは、`filename`というファイルの所有者を`username`、所有グループを`groupname`に変更します。
    
    - chownコマンドのオプション
        - **R**
            
            このオプションは、指定したディレクトリ以下のすべてのファイルとディレクトリの所有者と所有グループを変更します。
            
        - **v**
            
            このオプションは、変更を詳細に表示します。
            
        - **c**
            
            このオプションは、変更を表示します。
            
        - **f**
            
            このオプションは、変更時にエラーメッセージを表示しません。
            
- **chgrpコマンド**
    
    chgrpコマンドは、Linuxシステム上のファイルやディレクトリの所属グループを変更するために使用されます。
    
    - 使用例
    
    例1：所有グループを変更する
    
    `$ sudo chgrp groupname filename`
    
    このコマンドは、`filename`というファイルの所有グループを`groupname`に変更します。
    
    - chgrpコマンドのオプション
        - **R**
            
            このオプションは、指定したディレクトリ以下のすべてのファイルとディレクトリの所有グループを変更します。
            
        - **v**
            
            このオプションは、変更を詳細に表示します。
            
        - **c**
            
            このオプションは、変更を表示します。
            
        - **f**
            
            このオプションは、変更時にエラーメッセージを表示しません。
            
- **chmodコマンド**
    
    `chmod` コマンドは、Linux 上のファイルやディレクトリのパーミッションを変更するために使用される。このコマンドを使用して、オーナー、グループ、その他のユーザーに対する権限を追加または削除することができる。
    
    コマンドの構文は `chmod [オプション] モード ファイル` 
    
    ここで、`モード` はパーミッションを表す3桁の8進数であり、`ファイル` はパーミッションを適用するファイルまたはディレクトリである
    
    モード番号の3桁は、オーナー、グループ、その他のユーザーの権限に対応しており、各権限に対する値を合計して、次のように数字を設定する
    
    - `r` (読み取り) = 4
    - `w` (書き込み) = 2
    - `x` (実行) = 1
    
    たとえば、モード番号が 755 の場合、オーナーには読み取り、書き込み、実行権限が与えられ、グループとその他のユーザーには読み取りと実行権限が与えられます。
    
    `chmod` コマンドには、`-R` オプションを使用してディレクトリ内のすべてのファイルとディレクトリにパーミッションを再帰的に適用したり、`-v` オプションを使用して変更された各ファイルまたはディレクトリにメッセージを出力したりするなど、さまざまなオプションがあります。
    
    ugoaを指定しての設定方法は以下のように行なう
    
    - `u`：オーナーを指定
    - `g`：グループを指定
    - `o`：その他のユーザーを指定
    - `a`：すべてのユーザーを指定
    
    たとえば、`chmod u=rw,go=r hoge.txt`と入力すると、`hoge.txt`ファイルのオーナーには読み取りと書き込みの権限が与えられ、グループとその他のユーザーには読み取り権限が与えられる
    
    また、`chmod a+x hoge.txt`と入力すると、`hoge.txt`ファイルに対してすべてのユーザーに実行権限が与えられる
    
    また、`chmod g+w hoge.txt`と入力すると、`hoge.txt`ファイルのグループに書き込みの権限が追加され、また、`chmod o-x hoge.txt`と入力すると、`hoge.txt`ファイルのその他のユーザーから実行権限が削除される
    
    - setuidビット、setgidビット、sticky(スティッキー)ビット
        - **setuidビット**
            
            setuidビットは、ファイルに設定された特殊なパーミッションの1つであり、実行されると、そのファイルを所有するユーザーの特権で実行されます。つまり、通常はrootユーザーのみが実行できるコマンドを、一般ユーザーが実行できるようにすることができます。
            
            設定方法: `chmod u+s file`とコマンドラインで入力するか、ファイルマネージャーでファイルのプロパティを変更して、所有者の実行権限にsetuidのチェックを入れます。
            
        - **setgidビット**
            
            setgidビットは、ファイルに設定された特殊なパーミッションの1つであり、実行されると、実行されたプロセスは、そのファイルの所有グループの特権で実行されます。つまり、グループ内のすべてのメンバーがそのファイルを実行した場合、実行されるプロセスの所有グループは、そのファイルの所有グループになります。
            
            設定方法: `chmod g+s file`とコマンドラインで入力するか、ファイルマネージャーでファイルのプロパティを変更して、グループの実行権限にsetgidのチェックを入れます。
            
        - **sticky(スティッキー)ビット**
            
            stickyビットは、ファイルに設定された特殊なパーミッションの1つであり、通常、ディレクトリに設定されます。これにより、そのディレクトリ内のファイルは、所有者、所有グループ、rootユーザー以外のユーザーによって削除することができなくなります。つまり、他のユーザーがファイルを誤って削除することを防ぐことができます。
            
            設定方法: `chmod +t directory`とコマンドラインで入力するか、ファイルマネージャーでディレクトリのプロパティを変更して、その他の権限にstickyのチェックを入れます。
            
- **umaskコマンド**
    
    umaskコマンドは、新しく作成されたファイルとディレクトリの権限を制御するために使用されます。umaskは、新しいファイルやディレクトリに設定されるデフォルトのアクセス権限から、特定のパーミッションをマスクするために使用されます。
    
    umaskの値は、2進数で表され、4桁の数字として表されます。各数字は、最小限のパーミッション（読み取り、書き込み、実行）を表し、4桁の数値の最後から3桁目の数字は、所有者のパーミッションを表します。2番目の数字は、グループのパーミッションを表し、最後の数字は、その他のユーザーのパーミッションを表します。
    
    umask値を設定すると、新しいファイルやディレクトリに対して、その値に基づいてパーミッションが自動的に設定されます。たとえば、umaskが0022である場合、新しいファイルとディレクトリには、所有者に読み取り、書き込み、実行の全権限があり、グループとその他のユーザーには読み取りと実行の権限があります。
    
    - 使用例
        
        umaskを設定するには、コマンドラインで `umask [新しいumask値]` と入力します。たとえば、新しいumask値を027に設定する場合は、`umask 027`と入力します。
        
        umaskの現在の値を表示するには、コマンドラインで `umask` と入力します。
## 次やること
05_linux/001_linuxの基礎コマンドを理解する　「Linux標準教科書」のインプットの続き


## 感じたこと
Linuxでどんなことができるのか、どんどん引き出しが増えているのを感じる。
せっかくなので資格も取得も考えてみようかと思う。

## 学習時間
- Today: 3.00h
- Total: 114.50h
